<!--
  Generated template for the PermForm page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->



<ion-content id="leave" padding>
  <form #form="ngForm" style="margin-top:100px" novalidate>
    <ion-list>
      <ion-item >
<h2 style="text-align: center;">Premission Request</h2>	
      </ion-item>
      <ion-item >
        <ion-label>Description</ion-label>
        <ion-input type="text" required [(ngModel)]="perm.description" name="description" [disabled]="isReadonly"></ion-input>
      </ion-item>
     <ion-item>
        <ion-label>From</ion-label>

	    <ion-datetime displayFormat="DD/MMM/YYYY H:m a" [(ngModel)]="perm.time_from" pickerFormat="DD/MMM/YYYY HH:mm" [disabled]="isReadonly" name="time_from" (ngModelChange)="calculateTime()"></ion-datetime>
	    </ion-item>
	    <ion-item >
	    <ion-label>To</ion-label>
	    <ion-datetime displayFormat="DD/MMM/YYYY H:m a" [(ngModel)]="perm.time_to" pickerFormat="DD/MMM/YYYY HH:mm" [disabled]="isReadonly"name="time_to" (ngModelChange)="calculateTime()"></ion-datetime>
	    </ion-item>
	    <ion-item >
	    <ion-label>Duration</ion-label>
	
	    <ion-input type="text" required [(ngModel)]="perm.duration"[disabled]="isReadonly" name="duration"></ion-input>

      </ion-item>
      <!-- <div *ngIf="!show"><button ion-button type="button" (click)="submitPermission()" block>Submit</button></div>  -->
      <!-- <button ion-button type="button" block (click)="backPage()">back</button> -->

      <!-- <button ion-button type="button"  *ngIf="!show || isReadonly" (click)="submitPermission()" ion-button color="primary" item-right>Submit</button> -->
      <button ion-button type="button"  *ngIf="perm.state == 'to_approve'" (click)="toApprove()"ion-button color="primary" block>To Approve</button>
      <button ion-button type="button"  *ngIf="perm.state == 'second_approval'" (click)="secondApprove()"ion-button color="secondary"block>Second Approval</button>
      <button ion-button type="button"  *ngIf="perm.state == 'confirm'" ion-button color="secondary" block>Confirm</button>


    </ion-list>
<div  *ngIf="perm.state == 'draft'"><button ion-button type="button" (click)="submitPermission()" block>Submit</button></div> 
      <div *ngIf="perm.state == 'save'"><button ion-button type="button" (click)="applyPermission(form)" block>Save</button></div>
      
    </form>
  
</ion-content>
